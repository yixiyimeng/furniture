{"version":3,"sources":["webpack:///E:/张静项目/furniture/pages/extend-view/submitOrder/submitOrder.vue?b843","webpack:///E:/张静项目/furniture/pages/extend-view/submitOrder/submitOrder.vue?24c1","webpack:///E:/张静项目/furniture/pages/extend-view/submitOrder/submitOrder.vue?41af","webpack:///E:/张静项目/furniture/pages/extend-view/submitOrder/submitOrder.vue?64d6","webpack:///E:/张静项目/furniture/pages/extend-view/submitOrder/submitOrder.vue","webpack:///E:/张静项目/furniture/pages/extend-view/submitOrder/submitOrder.vue?d943","webpack:///E:/张静项目/furniture/pages/extend-view/submitOrder/submitOrder.vue?ac76"],"names":["components","tuiButton","tuiListCell","tuiBottomPopup","tuiNumberbox","data","basePath","hasCoupon","insufficient","orderList","orderInfo","name","price","img_url","value","productAmount","amount","postage","userInfo","province","city","district","address","contact_name","contact_phone","hasAddress","seladdressId","productId","computed","onLoad","options","addressId","qyt","id","setTimeout","getAddress","ids","arr","JSON","parse","console","log","stringify","shopCartArr","uni","getStorageSync","forEach","item","items","push","getProductShow","onShow","e","pages","getCurrentPages","currPage","length","isDoRefresh","methods","param","page","$pagination","limit","url","memberapi","member_id","$postajax","then","res","code","addressList","filter","is_default","calcOrder","catch","err","categoryapi","goodsList","map","api","change","index","chooseAddr","ischooseAddr","navigateTo","submitOrder","tui","toast","requestPayment","provider","timeStamp","nonceStr","package","signType","paySign","service","success","fail","showToast","icon","title"],"mappings":"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","file":"pages/extend-view/submitOrder/submitOrder.js","sourcesContent":["import { render, staticRenderFns } from \"./submitOrder.vue?vue&type=template&id=496565f9&\"\nimport script from \"./submitOrder.vue?vue&type=script&lang=js&\"\nexport * from \"./submitOrder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./submitOrder.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('496565f9', component.options)\n    } else {\n      api.reload('496565f9', component.options)\n    }\n    module.hot.accept(\"./submitOrder.vue?vue&type=template&id=496565f9&\", function () {\n      api.rerender('496565f9', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"E:/张静项目/furniture/pages/extend-view/submitOrder/submitOrder.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./submitOrder.vue?vue&type=template&id=496565f9&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.orderList, function(item, index) {\n    var m0 = _vm.$returnFloat(item.price)\n    var m1 = _vm.$returnFloat(item.price * item.qyt)\n    return {\n      $orig: _vm.__get_orig(item),\n      m0: m0,\n      m1: m1\n    }\n  })\n\n  var m2 = _vm.$returnFloat(_vm.postage)\n  var m3 = _vm.$returnFloat(_vm.amount)\n  var m4 = _vm.$returnFloat(_vm.amount)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        m2: m2,\n        m3: m3,\n        m4: m4\n      }\n    }\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./submitOrder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./submitOrder.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n\tbasePath\n} from '@/utils/index'\nimport api from '@/api/order';\nimport memberapi from '@/api/member';\nimport categoryapi from '@/api/category';\nimport {\n\tmapState\n} from 'vuex'\nimport tuiButton from \"@/components/extend/button/button\"\nimport tuiListCell from \"@/components/list-cell/list-cell\"\nimport tuiBottomPopup from \"@/components/bottom-popup/bottom-popup\"\nimport tuiNumberbox from \"@/components/numberbox/numberbox\"\nexport default {\n\tcomponents: {\n\t\ttuiButton,\n\t\ttuiListCell,\n\t\ttuiBottomPopup,\n\t\ttuiNumberbox\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tbasePath,\n\t\t\thasCoupon: true,\n\t\t\tinsufficient: false,\n\t\t\torderList: [],\n\t\t\torderInfo: {\n\t\t\t\tname: \"\",\n\t\t\t\tprice: null,\n\t\t\t\timg_url: []\n\t\t\t}, //订单信息\n\t\t\tvalue: 1, //订单数量\n\t\t\tproductAmount: 0.00, //商品总金额\n\t\t\tamount: 0.00, //支付金额\n\t\t\tpostage: 0.00, //邮费\n\t\t\tuserInfo: {\n\t\t\t\tprovince: \"\", //省\n\t\t\t\tcity: \"\", //市\n\t\t\t\tdistrict: \"\", //区\n\t\t\t\taddress: \"\", //详细地址\n\t\t\t\tcontact_name: \"\", //收货人姓名\n\t\t\t\tcontact_phone: \"\", //收货人手机号\n\t\t\t},\n\t\t\thasAddress: false,\n\t\t\tseladdressId: null, //选择的地址id\n\t\t\tproductId: null, //商品id\n\n\n\t\t}\n\t},\n\tcomputed: mapState(['forcedLogin', 'hasLogin', 'member_id', 'openid']),\n\tonLoad: function(options) {\n\n\t\tthis.seladdressId = options.addressId ? options.addressId : null;\n\t\tthis.value = options.qyt ? options.qyt : 1;\n\t\tthis.productId = options.id;\n\n\n\t\tsetTimeout(() => {\n\t\t\tthis.getAddress();\n\t\t\t//this.calcOrder();\n\t\t}, 50)\n\t\tif (options.ids) {\n\t\t\tlet arr = JSON.parse(options.ids)\n\t\t\tconsole.log(JSON.stringify(arr))\n\t\t\tlet shopCartArr = uni.getStorageSync('shopCartList');\n\t\t\tif (shopCartArr) {\n\t\t\t\tlet orderList = JSON.parse(shopCartArr);\n\n\t\t\t\torderList.forEach(item => {\n\t\t\t\t\tarr.forEach(items => {\n\n\t\t\t\t\t\tif (items.id == item.id) {\n\t\t\t\t\t\t\titem.qyt = items.qyt;\n\t\t\t\t\t\t\tthis.orderList.push(item)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t})\n\n\t\t\t\tconsole.log(\"购物车数组\" + JSON.stringify(this.orderList))\n\t\t\t}\n\n\t\t} else {\n\t\t\tthis.getProductShow();\n\t\t}\n\n\n\t},\n\n\tonShow: function(e) {\n\n\n\t\tlet pages = getCurrentPages();\n\n\n\t\tlet currPage = pages[pages.length - 1];\n\n\n\t\tif (currPage.data.isDoRefresh == true) {\n\t\t\tthis.seladdressId = currPage.data.addressId ? currPage.data.addressId : null;\n\n\t\t\tcurrPage.data.isDoRefresh = false;\n\n\n\t\t\tthis.getAddress();\n\n\n\t\t} else {\n\n\n\t\t\t//不用刷新\n\n\n\t\t}\n\n\n\t},\n\tmethods: {\n\t\t//获取全部收货地址\n\t\tgetAddress() {\n\t\t\tvar param = {\n\t\t\t\tpage: this.$pagination.page,\n\t\t\t\tlimit: this.$pagination.limit\n\t\t\t}\n\t\t\tvar url = memberapi.getAddress + '/' + this.member_id;\n\t\t\tthis.$postajax(url, param)\n\t\t\t\t.then(res => {\n\t\t\t\t\t//console.log(JSON.stringify(res))\n\t\t\t\t\tif (res.code == 0) {\n\t\t\t\t\t\tlet addressList = [];\n\t\t\t\t\t\tif (res.data && res.data.length > 0) {\n\t\t\t\t\t\t\tif (this.seladdressId) {\n\t\t\t\t\t\t\t\taddressList = res.data.filter(item => {\n\t\t\t\t\t\t\t\t\tif (item.id == this.seladdressId) {\n\t\t\t\t\t\t\t\t\t\treturn item\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\taddressList = res.data.filter(item => {\n\t\t\t\t\t\t\t\t\tif (item.is_default == 1) {\n\t\t\t\t\t\t\t\t\t\treturn item\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconsole.log(\"是神惡魔\" + JSON.stringify(addressList))\n\t\t\t\t\t\t\tthis.userInfo = addressList[0];\n\t\t\t\t\t\t\tthis.hasAddress = addressList[0] ? true : false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.calcOrder();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\n\t\t\t\t});\n\t\t},\n\t\t//获取产品详情\n\t\tgetProductShow() {\n\t\t\tvar param = {\n\t\t\t\tmember_id: this.member_id,\n\t\t\t}\n\t\t\tvar url = categoryapi.getProductShow + '/' + this.productId\n\t\t\tthis.$postajax(url, param)\n\t\t\t\t.then(res => {\n\t\t\t\t\t//console.log(JSON.stringify(res))\n\t\t\t\t\tif (res.code == 0) {\n\t\t\t\t\t\tthis.orderInfo = res.data;\n\t\t\t\t\t\tthis.orderInfo.img_url = JSON.parse(res.data.img_url);\n\t\t\t\t\t\tthis.orderInfo.qyt = this.value;\n\t\t\t\t\t\tthis.orderList.push(this.orderInfo)\n\t\t\t\t\t\t//console.log(\"图片数组\"+JSON.stringify(this.orderInfo.img_url))\n\t\t\t\t\t\t//this.productAmount=parseFloat(this.orderInfo.price)*this.value;\n\t\t\t\t\t\t/* this.calcOrder(); */\n\t\t\t\t\t}\n\n\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\n\t\t\t\t});\n\t\t},\n\t\t//计算订单\n\t\tcalcOrder() {\n\t\t\tlet productAmount = 0;\n\t\t\tvar goodsList = this.orderList.map(item => {\n\t\t\t\tvar items = {\n\t\t\t\t\t\"id\": item.id,\n\t\t\t\t\t\"qty\": item.qyt,\n\t\t\t\t}\n\t\t\t\tproductAmount += item.price * item.qyt;\n\t\t\t\treturn items\n\t\t\t})\n\t\t\t//var goodsList=[{\"id\":this.orderInfo.id,\"qty\":this.value}];\n\t\t\tvar param = {\n\t\t\t\tmember_id: this.member_id,\n\t\t\t\tgoodsList: JSON.stringify(goodsList),\n\t\t\t\tprovince: this.userInfo.province,\n\t\t\t\tcity: this.userInfo.city,\n\t\t\t\tdistrict: this.userInfo.district,\n\t\t\t\tcity: this.userInfo.city,\n\t\t\t\taddress: this.userInfo.address,\n\t\t\t\tcontact_name: this.userInfo.contact_name,\n\t\t\t\tcontact_phone: this.userInfo.contact_phone\n\t\t\t}\n\t\t\tthis.$postajax(api.calcOrder, param)\n\t\t\t\t.then(res => {\n\t\t\t\t\tconsole.log(\"计算商品\" + JSON.stringify(res))\n\t\t\t\t\tif (res.code == 0) {\n\t\t\t\t\t\tthis.amount = res.data.amount; //支付金额\n\t\t\t\t\t\tthis.postage = this.amount - productAmount;\n\t\t\t\t\t}\n\n\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\n\t\t\t\t});\n\t\t}, //\n\t\t/* chooseAddr(){\n\t\t\tuni.chooseAddress({\n\t\t\t  success(res) {\n\t\t\t\t  this.userInfo=res;\n\t\t\t    console.log(res.userName)\n\t\t\t    console.log(res.postalCode)\n\t\t\t    console.log(res.provinceName) \n\t\t\t    console.log(res.cityName)\n\t\t\t    console.log(res.countyName)\n\t\t\t    console.log(res.detailInfo)\n\t\t\t    console.log(res.nationalCode)\n\t\t\t    console.log(res.telNumber)\n\t\t\t  }\n\t\t\t})\n\t\t}, */\n\t\t//计算商品金额\n\t\tchange: function(e) {\n\t\t\tconsole.log(JSON.stringify(e.index))\n\t\t\t//this.value = e.value;\t\n\t\t\tthis.orderList[e.index].qyt = e.value;\n\t\t\t//this.productAmount=parseFloat(this.orderInfo.price)*this.value;\n\t\t\tthis.calcOrder();\n\t\t},\n\t\t//打开选择收货地址\n\t\tchooseAddr() {\n\t\t\tlet ischooseAddr = true\n\t\t\tuni.navigateTo({\n\t\t\t\turl: \"../address/address?ischooseAddr=\" + ischooseAddr\n\t\t\t})\n\t\t},\n\t\t//提交订单\n\t\tsubmitOrder() {\n\n\t\t\t// uni.getProvider({\n\n\t\t\t//     service: 'payment',\n\n\t\t\t//     success: function (res) {\n\n\t\t\t//     //在这里进行业务逻辑处理\n\n\t\t\t//     }\n\n\t\t\t// });\n\t\t\tlet productAmount = 0;\n\t\t\tvar goodsList = this.orderList.map(item => {\n\t\t\t\tvar items = {\n\t\t\t\t\t\"id\": item.id,\n\t\t\t\t\t\"qty\": item.qyt,\n\t\t\t\t}\n\t\t\t\tproductAmount += item.price * item.qyt;\n\t\t\t\treturn items\n\t\t\t})\n\t\t\t//var goodsList=[{\"id\":this.orderInfo.id,\"qty\":this.value}];\n\t\t\tvar param = {\n\t\t\t\tmember_id: this.member_id,\n\t\t\t\tgoodsList: JSON.stringify(goodsList),\n\t\t\t\tprovince: this.userInfo.province,\n\t\t\t\tcity: this.userInfo.city,\n\t\t\t\tdistrict: this.userInfo.district,\n\t\t\t\tcity: this.userInfo.city,\n\t\t\t\taddress: this.userInfo.address,\n\t\t\t\tcontact_name: this.userInfo.contact_name,\n\t\t\t\tcontact_phone: this.userInfo.contact_phone\n\t\t\t}\n\t\t\tif (!this.userInfo.contact_phone) {\n\t\t\t\tthis.tui.toast(\"请选择收货地址\", 2000, true);\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.$postajax(api.submitOrder, param)\n\t\t\t\t.then(res => {\n\t\t\t\t\tconsole.log(\"计算商品\" + JSON.stringify(res))\n\t\t\t\t\tif (res.code == 0) {\n\t\t\t\t\t\tlet orderInfo = res.data;\n\t\t\t\t\t\t//微信支付\n\n\t\t\t\t\t\tuni.requestPayment({\n\t\t\t\t\t\t\tprovider: 'wxpay',\n\t\t\t\t\t\t\torderInfo: orderInfo, //订单数据\n\t\t\t\t\t\t\ttimeStamp: orderInfo.timeStamp,\n\t\t\t\t\t\t\tnonceStr: orderInfo.nonceStr,\n\t\t\t\t\t\t\tpackage: orderInfo.package,\n\t\t\t\t\t\t\tsignType: orderInfo.signType,\n\t\t\t\t\t\t\tpaySign: orderInfo.paySign,\n\t\t\t\t\t\t\tservice: 3,\n\t\t\t\t\t\t\tsuccess: function(res) {\n\n\t\t\t\t\t\t\t\t//处理业务逻辑\n\t\t\t\t\t\t\t\tthis.tui.toast(\"提交订单成功\", 2000, true);\n\t\t\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\t\t\turl: \"../success/success?orderStatus=2\"\n\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\tfail: function(err) {\n\n\t\t\t\t\t\t\t\tconsole.log('fail:' + JSON.stringify(err));\n\t\t\t\t\t\t\t\tuni.showToast({\n\n\t\t\t\t\t\t\t\t\ticon: 'none',\n\n\t\t\t\t\t\t\t\t\ttitle: '支付失败'\n\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\t\t\t\turl: \"../myOrder/myOrder\"\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}, 200)\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\n\t\t\t\t});\n\t\t},\n\t}\n}\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./submitOrder.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./submitOrder.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}